{#
  Compact Nav — Logo Left, Links Right
  Shown on scroll (past the hero section) in both hero layouts.
  Driven by src/_data/navigation.js — same source of truth as navigation.njk.

  Reads isHomepage (set in the parent layout) to choose anchorHref vs href,
  matching the behaviour of the main navigation include.
#}


<nav id="nav-compact" class="fixed top-0 w-full bg-black/80 backdrop-blur-md z-[60] py-1.5 transition-all duration-500 ease-in-out opacity-0 -translate-y-full pointer-events-none">
    <div class="w-full max-w-screen-lg mx-auto px-6 flex justify-between items-center">

        <!-- Hamburger (Mobile) -->
        <button class="mobile-menu-btn lg:hidden text-white transition-colors flex flex-col justify-between w-7 h-5" aria-label="Toggle menu">
            <span class="burger-bar block w-full h-0.5 bg-current rounded-full"></span>
            <span class="burger-bar block w-full h-0.5 bg-current rounded-full"></span>
            <span class="burger-bar block w-full h-0.5 bg-current rounded-full"></span>
        </button>

        <!-- Logo (Desktop) -->
        <a href="{{ navigation.left[0].href }}" class="hidden lg:block flex-shrink-0">
            <img src="/assets/logo_128.png" alt="Saramonse Beauty" class="w-8 h-8">
        </a>

        <!-- All links flat on the right (Desktop) -->
        <ul class="hidden lg:flex gap-8 font-sans items-center">
            {% for item in navigation.left %}
            <li class="{% if item.children %}relative group{% endif %}">
                {% if item.children and not item.parentLink %}
                <span class="inline-flex items-center gap-1 text-white text-xs tracking-widest uppercase cursor-default select-none">
                    {{ item.label }}
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </span>
                {% else %}
                <a href="{{ item.href }}" class="inline-flex items-center gap-1 text-white hover:text-white/80 transition-colors text-xs tracking-widest uppercase">
                    {{ item.label }}
                    {% if item.children %}
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                    {% endif %}
                </a>
                {% endif %}
                {% if item.children %}
                <ul class="absolute left-1/2 -translate-x-1/2 top-full pt-2 hidden group-hover:block min-w-[160px]">
                    {% for child in item.children %}
                    <li class="bg-black/90 backdrop-blur-md rounded">
                        <a href="{{ child.href }}" class="text-white hover:text-white/80 block px-5 py-3 text-xs tracking-widest uppercase transition-colors">
                            {{ child.label }}
                        </a>
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
            {% for item in navigation.right %}
            <li class="{% if item.children %}relative group{% endif %}">
                {% if item.children and not item.parentLink %}
                <span class="inline-flex items-center gap-1 text-white text-xs tracking-widest uppercase cursor-default select-none">
                    {{ item.label }}
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </span>
                {% else %}
                <a href="{{ item.href }}" class="inline-flex items-center gap-1 text-white hover:text-white/80 transition-colors text-xs tracking-widest uppercase">
                    {{ item.label }}
                    {% if item.children %}
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                    {% endif %}
                </a>
                {% endif %}
                {% if item.children %}
                <ul class="absolute left-1/2 -translate-x-1/2 top-full pt-2 hidden group-hover:block min-w-[160px]">
                    {% for child in item.children %}
                    <li class="bg-black/90 backdrop-blur-md rounded">
                        <a href="{{ child.href }}" class="text-white hover:text-white/80 block px-5 py-3 text-xs tracking-widest uppercase transition-colors">
                            {{ child.label }}
                        </a>
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
            {% for icon in navigation.icons %}
            <li>
                <a href="{{ icon.href }}" class="text-white hover:text-white/80 transition-colors">
                    {% if icon.icon == "account" %}
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    {% elif icon.icon == "cart" %}
                    <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    {% endif %}
                </a>
            </li>
            {% endfor %}
        </ul>

        <!-- Cart (Mobile) -->
        <a href="#cart" class="lg:hidden text-white hover:text-white/80 transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
            </svg>
        </a>
    </div>
</nav>
