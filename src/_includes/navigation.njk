{#
  Navigation — Centered Logo Layout
  Data is driven by src/_data/navigation.js (single source of truth).

  Set these variables before including:
  - navTheme:        "dark" or "light" (default: "light")
  - navId:           optional element ID
  - navBg:           background classes (default: "bg-white")
  - navExtraClasses: additional classes (default: "")
#}

{% set textColor   = "text-white"         if navTheme == "dark" else "text-gray-900" %}
{% set textHover   = "hover:text-white/80" if navTheme == "dark" else "hover:text-gray-500" %}
{% set textExtra   = "text-shadow"         if navTheme == "dark" else "" %}
{% set mobileBg    = "bg-black/95"         if navTheme == "dark" else "bg-white/95" %}
{% set mobileBorder = ""                   if navTheme == "dark" else "border-t border-gray-100" %}
{% set dropdownBg  = "bg-black/90 backdrop-blur-md" if navTheme == "dark" else "bg-white shadow-lg" %}
{% set dropdownText = "text-white hover:text-white/80" if navTheme == "dark" else "text-gray-700 hover:text-gray-900" %}
{% set navPy       = "py-3" if navVariant == "compact" else "py-6" %}
{% set logoSize    = "w-[38px] h-[38px] lg:w-12 lg:h-12" if navVariant == "compact" else "w-16 h-16 lg:w-20 lg:h-20" %}

<nav {% if navId %}id="{{ navId }}"{% endif %} class="fixed top-0 w-full {{ navBg or 'bg-white' }} z-[60] {{ navPy }} {{ navExtraClasses or '' }}">
    <div class="w-full max-w-screen-lg mx-auto px-6 flex justify-between items-center">

        <!-- Hamburger Button (Mobile) -->
        <button class="mobile-menu-btn lg:hidden {{ textColor }} transition-colors flex flex-col justify-between w-7 h-5" aria-label="Toggle menu">
            <span class="burger-bar block w-full h-0.5 bg-current rounded-full"></span>
            <span class="burger-bar block w-full h-0.5 bg-current rounded-full"></span>
            <span class="burger-bar block w-full h-0.5 bg-current rounded-full"></span>
        </button>

        <!-- Left Menu (Desktop) -->
        <ul class="hidden lg:flex font-sans flex-1 justify-evenly items-center">
            <li class="min-w-[30px]">&nbsp;</li>
            {% for item in navigation.left %}
            <li class="min-w-[90px] text-center{% if item.children %} relative group{% endif %}">
                {% if item.children and not item.parentLink %}
                <span class="inline-flex items-center gap-1 {{ textColor }} text-sm tracking-widest uppercase {{ textExtra }} cursor-default select-none">
                    {{ item.label }}
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                </span>
                {% else %}
                <a href="{{ item.href }}" class="inline-flex items-center gap-1 {{ textColor }} {{ textHover }} transition-colors text-sm tracking-widest uppercase {{ textExtra }}">
                    {{ item.label }}
                    {% if item.children %}
                    <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                    </svg>
                    {% endif %}
                </a>
                {% endif %}
                {% if item.children %}
                <ul class="absolute left-1/2 -translate-x-1/2 top-full pt-2 hidden group-hover:block min-w-[160px]">
                    {% for child in item.children %}
                    <li class="{{ dropdownBg }} rounded">
                        <a href="{{ child.href }}" class="{{ dropdownText }} block px-5 py-3 text-xs tracking-widest uppercase transition-colors">
                            {{ child.label }}
                        </a>
                    </li>
                    {% endfor %}
                </ul>
                {% endif %}
            </li>
            {% endfor %}
        </ul>

        <!-- Center Logo -->
        <a href="{{ navigation.left[0].href }}" class="flex-shrink-0 mx-8 lg:mx-12">
            <img src="/assets/logo_256.png" alt="Saramonse Beauty" class="{{ logoSize }}">
        </a>

        <!-- Right Menu (Desktop) -->
        <div class="hidden lg:flex flex-1 items-center">
            <ul class="flex font-sans flex-1 justify-evenly items-center">
                {% for item in navigation.right %}
                <li class="min-w-[90px] text-center{% if item.children %} relative group{% endif %}">
                    {% if item.children and not item.parentLink %}
                    <span class="inline-flex items-center gap-1 {{ textColor }} text-sm tracking-widest uppercase {{ textExtra }} cursor-default select-none">
                        {{ item.label }}
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                    </span>
                    {% else %}
                    <a href="{{ item.href }}" class="inline-flex items-center gap-1 {{ textColor }} {{ textHover }} transition-colors text-sm tracking-widest uppercase {{ textExtra }}">
                        {{ item.label }}
                        {% if item.children %}
                        <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"/>
                        </svg>
                        {% endif %}
                    </a>
                    {% endif %}
                    {% if item.children %}
                    <ul class="absolute left-1/2 -translate-x-1/2 top-full pt-2 hidden group-hover:block min-w-[160px]">
                        {% for child in item.children %}
                        <li class="{{ dropdownBg }} rounded">
                            <a href="{{ child.href }}" class="{{ dropdownText }} block px-5 py-3 text-xs tracking-widest uppercase transition-colors">
                                {{ child.label }}
                            </a>
                        </li>
                        {% endfor %}
                    </ul>
                    {% endif %}
                </li>
                {% endfor %}
            </ul>
            <div class="flex gap-6 w-auto shrink-0">
                {% for icon in navigation.icons %}
                <a href="{{ icon.href }}" class="{{ textColor }} {{ textHover }} transition-colors {{ textExtra }}">
                    {% if icon.icon == "account" %}
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"></path>
                    </svg>
                    {% elif icon.icon == "cart" %}
                    <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
                    </svg>
                    {% endif %}
                </a>
                {% endfor %}
            </div>
        </div>

        <!-- Cart Icon (Mobile) -->
        <a href="#cart" class="lg:hidden {{ textColor }} {{ textHover }} transition-colors">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z"></path>
            </svg>
        </a>
    </div>
</nav>

<!-- Mobile Menu — Circle Burst Overlay -->
<div id="mobile-menu" class="mobile-menu-overlay fixed inset-0 lg:hidden z-[70]" style="background-color: #1e1218; display: none;">
    <nav class="flex flex-col items-center justify-center h-full font-sans">
        {% for item in navigation.mobileItems %}
        <div class="menu-item w-full text-center" style="animation-delay: calc(0.28s + {{ loop.index0 }} * 0.08s)">
            {% if item.kind == "main" %}
            <a href="{{ item.href }}" class="block text-white hover:text-white/70 transition-colors text-3xl tracking-[0.2em] uppercase py-4">
                {{ item.label }}
            </a>
            {% elif item.kind == "child" %}
            <a href="{{ item.href }}" class="block text-white/40 hover:text-white/70 transition-colors text-xs tracking-[0.3em] uppercase py-2">
                &mdash; {{ item.label }}
            </a>
            {% elif item.kind == "icon" %}
            <a href="{{ item.href }}" class="block text-white/40 hover:text-white/70 transition-colors text-xs tracking-[0.3em] uppercase py-3">
                {{ item.label }}
            </a>
            {% endif %}
        </div>
        {% endfor %}
    </nav>
</div>
