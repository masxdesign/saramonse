<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="{{ description or 'Saramonse Beauty' }}">
    <title>{{ title }}</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Alex+Brush&family=Jost:wght@300;400;500;600&family=Cormorant+Garamond:wght@300;400;500&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/styles.css">
</head>
<body class="font-serif text-gray-800">
    <!-- Dark transparent nav over video hero -->
    {% set navTheme = "dark" %}
    {% set navId = "nav-hero" %}
    {% set navBg = "bg-transparent" %}
    {% set navExtraClasses = "transition-all duration-500 ease-in-out opacity-100 translate-y-0" %}
    {% set isHomepage = false %}
    {% include "navigation.njk" %}

    <!-- Compact Nav (Logo Left, Dark) - shown on scroll -->
    {% include "compact-nav.njk" %}

    <!-- Video Hero Section -->
    <div id="video-hero" class="relative w-full aspect-[21/7] overflow-hidden bg-black">
        <video
            class="absolute w-[calc(100%+10px)] object-cover object-top"
            autoplay
            muted
            loop
            playsinline
            poster="{{ videoPoster or '' }}"
        >
            <source src="{{ videoSrc or '/assets/hero-video.mp4' }}" type="video/mp4">
        </video>
        <!-- Dark overlay -->
        <div class="absolute inset-y-0 -inset-x-40 bg-gradient-to-b from-black/80 to-black/20 z-10"></div>
    </div>

    <main class="bg-white">
        {{ content | safe }}
    </main>

    {% include "footer.njk" %}

    <script>
        // Mobile menu toggle for both nav buttons
        const mobileMenuBtns = document.querySelectorAll('.mobile-menu-btn');
        const mobileMenu = document.getElementById('mobile-menu');
        const navHero = document.getElementById('nav-hero');
        const navCompact = document.getElementById('nav-compact');
        const heroSection = document.getElementById('video-hero');

        mobileMenuBtns.forEach(btn => {
            btn.addEventListener('click', () => {
                mobileMenu.classList.toggle('hidden');
            });
        });

        // Close mobile menu when clicking a link
        const mobileLinks = mobileMenu.querySelectorAll('a');
        mobileLinks.forEach(link => {
            link.addEventListener('click', () => {
                mobileMenu.classList.add('hidden');
            });
        });

        // Switch between nav layouts on scroll
        window.addEventListener('scroll', () => {
            const heroHeight = heroSection.offsetHeight;
            const scrollY = window.scrollY;
            const shouldBeCompact = scrollY > heroHeight - 100;

            if (shouldBeCompact) {
                navHero.classList.remove('opacity-100', 'translate-y-0');
                navHero.classList.add('opacity-0', '-translate-y-full', 'pointer-events-none');

                navCompact.classList.remove('opacity-0', '-translate-y-full', 'pointer-events-none');
                navCompact.classList.add('opacity-100', 'translate-y-0');
            } else {
                navCompact.classList.remove('opacity-100', 'translate-y-0');
                navCompact.classList.add('opacity-0', '-translate-y-full', 'pointer-events-none');

                navHero.classList.remove('opacity-0', '-translate-y-full', 'pointer-events-none');
                navHero.classList.add('opacity-100', 'translate-y-0');
            }
        });
    </script>
</body>
</html>
