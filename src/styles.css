@import "tailwindcss";

@layer utilities {
  .text-shadow {
    text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.7);
  }

  .text-shadow-lg {
    text-shadow: 2px 2px 8px rgba(0, 0, 0, 0.7);
  }

  .text-shadow-none {
    text-shadow: none;
  }
}

/* ============================================
   Light-theme nav gradient
   Fades from solid white at the top to transparent at the bottom so that
   content scrolling behind the nav is veiled rather than hard-clipped.
   ============================================ */

.nav-fade-light {
  background: linear-gradient(to bottom, white 55%, transparent);
}

/* ============================================
   Circle Burst Mobile Menu
   ============================================ */

/* Animated hamburger bars → X */
.burger-bar {
  transition: transform 0.35s cubic-bezier(0.23, 1, 0.32, 1), opacity 0.2s ease;
  transform-origin: center;
}
.mobile-menu-btn.menu-open .burger-bar:nth-child(1) {
  transform: translateY(9px) rotate(45deg);
}
.mobile-menu-btn.menu-open .burger-bar:nth-child(2) {
  opacity: 0;
  transform: scaleX(0);
}
.mobile-menu-btn.menu-open .burger-bar:nth-child(3) {
  transform: translateY(-9px) rotate(-45deg);
}

/* Overlay — hidden by default via clip-path.
   The burst open/close is driven by JS-set inline transitions so that
   Safari iOS can interpolate the clip-path correctly (Safari cannot
   interpolate clip-path when CSS custom properties are used inside
   @keyframes, causing the animation to flash or not play at all).
   visibility:hidden is added as a Safari fallback because clip-path:circle(0%)
   alone does not reliably hide position:fixed elements in Safari — the dark
   background can bleed through when scrolling. JS controls visibility via
   inline style so the close animation can still play before the element is
   fully hidden. */
.mobile-menu-overlay {
  -webkit-clip-path: circle(0% at 40px 40px);
  clip-path: circle(0% at 40px 40px);
  pointer-events: none;
  visibility: hidden;
}
.mobile-menu-overlay.menu-open {
  pointer-events: auto;
}

/* Menu items — hidden until open, stagger in */
.menu-item {
  opacity: 0;
}
.mobile-menu-overlay.menu-open .menu-item {
  -webkit-animation: menu-item-in 0.45s ease forwards;
  animation: menu-item-in 0.45s ease forwards;
  /* animation-delay is set inline by the template via navigation.mobileItems */
}

@-webkit-keyframes menu-item-in {
  from { opacity: 0; -webkit-transform: translateY(20px); transform: translateY(20px); }
  to   { opacity: 1; -webkit-transform: translateY(0);    transform: translateY(0); }
}
@keyframes menu-item-in {
  from { opacity: 0; transform: translateY(20px); }
  to   { opacity: 1; transform: translateY(0); }
}
